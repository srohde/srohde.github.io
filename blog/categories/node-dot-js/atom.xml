<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: node.js, | Sönke Rohde]]></title>
  <link href="http://srohde.github.io/blog/categories/node-dot-js/atom.xml" rel="self"/>
  <link href="http://srohde.github.io/"/>
  <updated>2013-06-08T07:33:38-07:00</updated>
  <id>http://srohde.github.io/</id>
  <author>
    <name><![CDATA[Sönke Rohde]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Testing Node.js Routes]]></title>
    <link href="http://srohde.github.io/blog/2013/06/08/testing-node-dot-js-routes/"/>
    <updated>2013-06-08T06:47:00-07:00</updated>
    <id>http://srohde.github.io/blog/2013/06/08/testing-node-dot-js-routes</id>
    <content type="html"><![CDATA[<p>Lately I needed some tests for an <a href="http://expressjs.com/">Express</a> <a href="http://nodejs.org/">Node.js</a> project I was working on and I was surprised how easy and minimalilstic the code can look like with CoffeeScript. Check this gist:</p>

<p><div><script src='https://gist.github.com/4229691.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>

<p>I am using <a href="https://github.com/visionmedia/should.js/">should.js</a> as the asseration library and <a href="http://visionmedia.github.io/mocha/">mocha</a> as the test framework. In this example I am testing a login function. My Node.js route (api) is being imported and then I&rsquo;ll test first if the login function actually exists. After that I am invoking the login function and make assertions against the result. The implementated function signature looks like this:</p>

<p><code>coffeescript
exports.login = (req, res) -&gt;
</code></p>

<p>The parameters are request and response. This route is using GET so for the request parameter we&rsquo;ll specify the query parameters.
When the implementation is done with the login execution it&rsquo;ll call <code>res.send(result)</code> so it&rsquo;s perfect to hook into that as well and we can do assertions against the result type and value.</p>
]]></content>
  </entry>
  
</feed>
